(this.webpackJsonpipic=this.webpackJsonpipic||[]).push([[11],{344:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(74),u=n(26),c=n(12),i=n(72),s=n(343),o=n(340),m=n(135),g=n(216),d=n(339),p=n(345),f=n(27);function h(){var e=Object(u.a)(["\n  max-width: 300px;\n"]);return h=function(){return e},e}function b(){var e=Object(u.a)(["\n  margin: 20px 0;\n  text-align: center;\n"]);return b=function(){return e},e}function E(){var e=Object(u.a)(["\n  border: 1px dashed #ccc;\n  margin-top: 30px;\n  padding: 20px;\n"]);return E=function(){return e},e}var v=o.a.Dragger,j=f.a.div(E()),w=f.a.h1(b()),O=f.a.img(h()),F=Object(l.a)((function(){var e=Object(i.a)(),t=e.ImageStore,n=e.UserStore,l=Object(a.useRef)(),u=Object(a.useRef)(),o={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===n.currentUser?(m.b.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\uff01"),!1):(window.file=e,/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/gi.test(e.type)?e.size>1048576?(m.b.error("\u56fe\u7247\u6700\u5927 1M"),!1):(t.upload().then((function(e){m.b.success("\u4e0a\u4f20\u6210\u529f")})).catch((function(e){m.b.error("\u4e0a\u4f20\u5931\u8d25")})),!1):(m.b.error("\u53ea\u80fd\u4e0a\u4f20 png / jpg / jpeg / gif \u683c\u5f0f\u7684\u56fe\u7247"),!1))}},f=Object(c.d)((function(){return{width:null,setWidth:function(e){f.width=e},get widthStr(){return f.width?"/w/".concat(f.width):""},height:null,setHeight:function(e){f.height=e},get heightStr(){return f.height?"/h/".concat(f.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+f.widthStr+f.heightStr}}}));return r.a.createElement("div",null,r.a.createElement(g.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:t.isUploading},r.a.createElement(v,o,r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(s.a,null)),r.a.createElement("p",{className:"ant-upload-text"},"\u5355\u51fb\u6216\u62d6\u52a8\u6587\u4ef6\u5230\u8be5\u533a\u57df\u4ee5\u4e0a\u4f20"),r.a.createElement("p",{className:"ant-upload-hint"},"\u4ec5\u652f\u6301 .png / .jpg / .jpeg / .gif / .svg \u683c\u5f0f\u7684\u56fe\u7247\uff0c\u56fe\u7247\u6700\u5927 1M"))),t.serverFile?r.a.createElement(r.a.Fragment,null,r.a.createElement(j,null,r.a.createElement(w,null,"\u4e0a\u4f20\u7ed3\u679c"),r.a.createElement("dl",null,r.a.createElement("dt",null,"\u7ebf\u4e0a\u5730\u5740"),r.a.createElement("dd",null,r.a.createElement("a",{href:t.serverFile.attributes.url.attributes.url,target:"_blank",rel:"noopener noreferrer"},t.serverFile.attributes.url.attributes.url)),r.a.createElement("dt",null,"\u6587\u4ef6\u540d"),r.a.createElement("dd",null,t.filename),r.a.createElement("dt",null,"\u56fe\u7247\u9884\u89c8"),r.a.createElement("dd",null,r.a.createElement(O,{src:t.serverFile.attributes.url.attributes.url,alt:"\u56fe\u7247\u9884\u89c8"})),r.a.createElement("dt",null,"\u66f4\u591a\u5c3a\u5bf8"),r.a.createElement(d.a,null,r.a.createElement(d.a.Item,{label:"\u6700\u5927\u5bbd\u5ea6\uff08\u53ef\u9009\uff09"},r.a.createElement(p.a,{defaultValue:0,onChange:function(e){f.setWidth(e)},ref:l})),r.a.createElement(d.a.Item,{label:"\u6700\u5927\u9ad8\u5ea6\uff08\u53ef\u9009\uff09"},r.a.createElement(p.a,{defaultValue:0,onChange:function(e){f.setHeight(e)},ref:u}))),r.a.createElement("dd",null,r.a.createElement("a",{href:f.fullStr,target:"_blank",rel:"noopener noreferrer"},f.fullStr))))):null)})),S=n(346);function x(){var e=Object(u.a)(["\n  margin: 30px 0;\n"]);return x=function(){return e},e}var U=f.a.div(x()),$=Object(l.a)((function(e){var t=e.children,n=Object(i.a)().UserStore;return r.a.createElement(r.a.Fragment,null,n.currentUser?null:r.a.createElement(U,null,r.a.createElement(S.a,{message:"\u8b66\u544a",description:t,type:"warning",showIcon:!0})))})),k=Object(l.a)((function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement($,null,"\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20\uff01\uff01\uff01"),r.a.createElement(F,null))}));t.default=k}}]);
//# sourceMappingURL=11.9499e152.chunk.js.map